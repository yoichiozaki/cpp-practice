#include <bits/stdc++.h>
using namespace std;

int main()
{
    // long long N;
    // cin >> N;
    // vector<long long> R(N), C(N);
    // for (int i = 0; i < N; i++)
    //     R[i] = C[i] = (long long)i;
    // bool side = true; // N*R + C
    // long long Q;
    // cin >> Q;
    // for (long long q = 0; q < Q; q++)
    // {
    //     int type;
    //     cin >> type;
    //     if (type == 1)
    //     {
    //         if (side)
    //         {
    //             int A, B;
    //             cin >> A >> B;
    //             A--, B--;
    //             swap(R[A], R[B]);
    //         }
    //         else
    //         {
    //             int A, B;
    //             cin >> A >> B;
    //             A--, B--;
    //             swap(C[A], C[B]);
    //         }
    //     }
    //     else if (type == 2)
    //     {
    //         if (side)
    //         {
    //             int A, B;
    //             cin >> A >> B;
    //             A--, B--;
    //             swap(C[A], C[B]);
    //         }
    //         else
    //         {
    //             int A, B;
    //             cin >> A >> B;
    //             A--, B--;
    //             swap(R[A], R[B]);
    //         }
    //     }
    //     else if (type == 3)
    //     {
    //         side = !side;
    //         swap(R, C);
    //     }
    //     else
    //     {
    //         int A, B;
    //         cin >> A >> B;
    //         A--, B--;
    //         if (side)
    //             cout << N * R[A] + C[B] << endl;
    //         else
    //             cout << "side = false: " << N * C[B] + R[A] << endl;
    //     }
    // }
    return 0;
}